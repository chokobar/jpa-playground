<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8">
  <title>상품 목록</title>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <style>
    body {
      background-color: #f8f9fa;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .card {
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      width: 100%;
      max-width: 1100px;
    }

    table th {
      background-color: #e9ecef;
      font-weight: bold;
    }

    table td, table th {
      vertical-align: middle;
    }

    .btn-group-custom a {
      width: 48%;
    }

    @media (max-width: 576px) {
      .btn-group-custom {
        flex-direction: column;
      }

      .btn-group-custom a {
        width: 100%;
        margin-bottom: 10px;
      }
    }
  </style>
</head>
<body>

<div class="d-flex justify-content-center align-items-center vh-100 px-2">
  <div class="card p-4 bg-white">
    <h3 class="text-center mb-4">상품 목록</h3>

    <div class="table-responsive">
      <table class="table table-bordered table-hover text-center align-middle">
        <thead class="table-light">
        <tr>
          <th>번호</th>
          <th>상품명</th>
          <th>설명</th>
          <th>가격 (원)</th>
          <th>재고</th>
          <th>상태</th>
          <th>카테고리</th>
          <th>등록일</th>
          <th>수정일</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="product, stat : ${products}">
          <td th:text="${stat.index + 1}">1</td>
<!--          <td>-->
<!--            <a th:href="@{/product/detail/{id}(id=${product.id})}" th:text="${product.name}">상품명</a>-->
<!--          </td>-->
          <td th:text="${product.name}">상품명</td>
          <td th:text="${product.description}">상품설명</td>
          <td th:text="${#numbers.formatInteger(product.price, 3, 'COMMA')}">10000</td>
          <td th:text="${product.stockQuantity}">10</td>
          <td>
            <span th:switch="${product.status.name()}">
              <span th:case="'AVAILABLE'">판매중</span>
              <span th:case="'SOLD_OUT'">품절</span>
              <span th:case="'DISCONTINUED'">단종</span>
            </span>
          </td>
          <td>
            <span th:switch="${product.category.name()}">
              <span th:case="'ELECTRONICS'">전자제품</span>
              <span th:case="'BOOKS'">도서</span>
              <span th:case="'FOOD'">식료품</span>
              <span th:case="'ETC'">기타</span>
            </span>
          </td>
          <td th:text="${product.createdAt}">2025-08-01</td>
          <td th:text="${#strings.isEmpty(product.updatedAt) or product.updatedAt == 'null' ? ' ' : product.updatedAt}"></td>


        </tr>
        <tr th:if="${#lists.isEmpty(products)}">
          <td colspan="9" class="text-muted">등록된 상품이 없습니다.</td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="d-flex justify-content-between mt-4 btn-group-custom">
      <a class="btn btn-primary" th:href="@{/}">메인화면</a>
      <a class="btn btn-success" th:href="@{/product/productForm}">상품 등록</a>
    </div>

  </div>
</div>

</body>
</html>
